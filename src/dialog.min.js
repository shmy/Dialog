!function(t){function i(){this.dialogMask=this.dialogWrap=this.dialogTitle=this.dialogContent=this.dialogButtons=this.dialogToast=null,this.type="ontouchstart"in window?"touchstart":"click",this.isModal=!1,this.animationName="dialog-",this.tasks=[],this.task2=[],this.isRun=!1,this.isRun2=!1,this.init()}i.prototype.init=function(){var t=document.createDocumentFragment();this.dialogMask=document.createElement("div"),this.dialogWrap=document.createElement("div"),this.dialogTitle=document.createElement("div"),this.dialogContent=document.createElement("div"),this.dialogButtons=document.createElement("div"),this.dialogToast=document.createElement("div"),this.dialogMask.className="dialog-mask",this.dialogWrap.className="dialog-wrap",this.dialogTitle.className="dialog-title",this.dialogContent.className="dialog-content",this.dialogButtons.className="dialog-buttons",this.dialogToast.className="dialog-toast",this.dialogWrap.appendChild(this.dialogTitle),this.dialogWrap.appendChild(this.dialogContent),this.dialogWrap.appendChild(this.dialogButtons),this.dialogMask.appendChild(this.dialogWrap),t.appendChild(this.dialogMask),t.appendChild(this.dialogToast),document.body.appendChild(t),this.bind()},i.prototype.bind=function(){function t(t){var i=t.srcElement||t.target;i===this&&t.preventDefault()}function i(t){t.animationName===s.animationName+"out"&&(s.tasks.shift(),0!==s.tasks.length?s.render():(s.isRun=!1,s.dialogTitle.innerText="",s.dialogContent.innerText="",s.dialogButtons.innerHTML=""))}function a(t){"toast-out"===t.animationName&&(s.task2.shift(),0!==s.task2.length?s.render2():(s.isRun2=!1,s.dialogToast.dataset.content=""))}var s=this;this.dialogMask.addEventListener("mousewheel",t,!1),this.dialogMask.addEventListener("touchmove",t,!1),this.dialogMask.addEventListener("webkitAnimationend",i,!1),this.dialogMask.addEventListener("animationend",i,!1),this.dialogToast.addEventListener("webkitAnimationend",a,!1),this.dialogToast.addEventListener("animationend",a,!1)},i.prototype.alert=function(t){var i,a,s,e,n=this;"object"==typeof t?(i=t.t||"提示",a=t.c||"",e=t.m||this.isModal,s=t.b||{"确定":function(){n.hide()}}):(i="提示",a=t,e=this.isModal,s={"确定":function(){n.hide()}}),this.tasks.push({t:i,c:a,m:e,b:s}),this.isRun||(this.isRun=!0,this.render())},i.prototype.render=function(){var t=this,i=this.tasks[0];this.dialogTitle.innerText=i.t,this.dialogContent.innerText=i.c;var a=document.createDocumentFragment(),s=null;for(var e in i.b)s=document.createElement("div"),s.className="dialog-button",s.innerText=e,s.addEventListener(this.type,function(){i.b[this.innerText](),t.hide()},!1),a.appendChild(s);this.dialogButtons.innerHTML="",this.dialogButtons.appendChild(a),i.m&&this.modal(),this.show()},i.prototype.show=function(){this.dialogMask.classList.remove(this.animationName+"out"),this.dialogMask.classList.add(this.animationName+"in")},i.prototype.hide=function(){this.dialogMask.classList.remove(this.animationName+"in"),this.dialogMask.classList.add(this.animationName+"out")},i.prototype.modal=function(){function t(a){var s=a.srcElement||a.target;s===this&&(i.hide(),this.removeEventListener(i.type,t,!1))}var i=this;this.dialogMask.addEventListener(this.type,t,!1)},i.prototype.toast=function(t,i){this.task2.push({c:t,t:i||3e3}),this.isRun2||(this.isRun2=!0,this.render2())},i.prototype.render2=function(){var t=this,i=t.task2[0];t.dialogToast.dataset.content=i.c,t.dialogToast.style.marginLeft=-t.dialogToast.offsetWidth/2+"px",t.dialogToast.classList.remove("toast-out"),t.dialogToast.classList.add("toast-in");var a=setTimeout(function(){t.dialogToast.classList.remove("toast-in"),t.dialogToast.classList.add("toast-out"),clearTimeout(a)},i.t)},t.addEventListener("DOMContentLoaded",function(){t.Dialog=new i},!1)}(window);