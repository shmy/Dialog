!function(t){function i(){this.dialogMask=this.dialogWrap=this.dialogTitle=this.dialogContent=this.dialogButtons=null,this.type="ontouchstart"in window?"touchstart":"click",this.isModal=!1,this.animationName="dialog-",this.tasks=[],this.isRun=!1,this.init()}i.prototype.init=function(){function t(t){var i=t.srcElement||t.target;i===this&&t.preventDefault()}function i(t){t.animationName===e.animationName+"out"&&(e.tasks.shift(),0!==e.tasks.length?e.render():(e.isRun=!1,e.dialogTitle.innerText="",e.dialogContent.innerText="",e.dialogButtons.innerHTML=""))}var e=this,a=document.createDocumentFragment();this.dialogMask=document.createElement("div"),this.dialogWrap=document.createElement("div"),this.dialogTitle=document.createElement("div"),this.dialogContent=document.createElement("div"),this.dialogButtons=document.createElement("div"),this.dialogMask.className="dialog-mask",this.dialogWrap.className="dialog-wrap",this.dialogTitle.className="dialog-title",this.dialogContent.className="dialog-content",this.dialogButtons.className="dialog-buttons",this.dialogWrap.appendChild(this.dialogTitle),this.dialogWrap.appendChild(this.dialogContent),this.dialogWrap.appendChild(this.dialogButtons),this.dialogMask.appendChild(this.dialogWrap),a.appendChild(this.dialogMask),this.dialogMask.addEventListener("mousewheel",t,!1),this.dialogMask.addEventListener("touchmove",t,!1),this.dialogMask.addEventListener("webkitAnimationend",i,!1),this.dialogMask.addEventListener("animationend",i,!1),document.body.appendChild(a)},i.prototype.alert=function(t){var i,e,a,n,s=this;"object"==typeof t?(i=t.t||"提示",e=t.c||"",n=t.m||this.isModal,a=t.b||{"确定":function(){s.hide()}}):(i="提示",e=t,n=this.isModal,a={"确定":function(){s.hide()}}),this.tasks.push({t:i,c:e,m:n,b:a}),this["do"]()},i.prototype["do"]=function(){this.isRun||(this.isRun=!0,this.render())},i.prototype.render=function(){var t=this,i=this.tasks[0];this.dialogTitle.innerText=i.t,this.dialogContent.innerText=i.c;var e=document.createDocumentFragment(),a=null;for(var n in i.b)a=document.createElement("div"),a.className="dialog-button",a.innerText=n,a.addEventListener(this.type,function(){i.b[this.innerText](),t.hide()},!1),e.appendChild(a);this.dialogButtons.innerHTML="",this.dialogButtons.appendChild(e),i.m&&this.modal(),this.show()},i.prototype.show=function(){this.dialogMask.classList.remove(this.animationName+"out"),this.dialogMask.classList.add(this.animationName+"in")},i.prototype.hide=function(){this.dialogMask.classList.remove(this.animationName+"in"),this.dialogMask.classList.add(this.animationName+"out")},i.prototype.modal=function(){function t(e){var a=e.srcElement||e.target;a===this&&(i.hide(),this.removeEventListener(i.type,t,!1))}var i=this;this.dialogMask.addEventListener(this.type,t,!1)},t.addEventListener("DOMContentLoaded",function(){t.Dialog=new i},!1)}(window);